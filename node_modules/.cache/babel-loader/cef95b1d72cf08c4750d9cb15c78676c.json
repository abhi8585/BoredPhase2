{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\work\\\\Desktop\\\\Code\\\\BoredPhase2\\\\src\\\\components\\\\Info\\\\info-new.jsx\";\n// import { color } from 'd3-color';\nimport React from 'react';\nimport Wine from \"../../contracts/Wine.json\";\nimport ipfs from \"./ipfs\";\nimport { init } from 'emailjs-com';\nimport emailjs from 'emailjs-com';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass WineInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleMintClick = this.handleMintClick.bind(this);\n    this.lazyMint = this.lazyMint.bind(this);\n    this.handleAddressChange = this.handleAddressChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleCheckBox = this.handleCheckBox.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n    this.containerStyles = this.containerStyles.bind(this);\n    this.addWineNumber = this.addWineNumber.bind(this);\n    this.subWineNumber = this.subWineNumber.bind(this);\n    this.state = {\n      mintClicked: false,\n      wineNumber: 0,\n      userName: \"\",\n      userEmail: \"\",\n      userShippingAddress: \"\",\n      redirect: false,\n      transactionHash: \"\",\n      blockHash: \"\",\n      ageCheck: \"\",\n      winePrice: \"0.2\"\n    }; // this.containerStyles = {\n    //     height: 20,\n    //     width: '100%',\n    //     // backgroundColor: \"#e0e0de\",\n    //     borderRadius: 40,\n    //     // margin: 50\n    //   },\n\n    this.fillerStyles = {\n      height: '100%',\n      width: `${50}%`,\n      backgroundColor: \"#000000\",\n      borderRadius: 'inherit',\n      textAlign: 'right'\n    };\n    this.labelStyles = {\n      padding: 4,\n      color: 'white',\n      fontWeight: 'bold'\n    };\n  }\n\n  containerStyles() {\n    return {\n      height: 20,\n      width: '100%',\n      // backgroundColor: \"#e0e0de\",\n      borderRadius: 40 // margin: 50\n\n    };\n  }\n\n  handleMintClick() {\n    //    alert(true)\n    if (this.state.wineNumber < 2) {\n      alert(\"You have to atleast Mint 2 Wine's \");\n      return;\n    }\n\n    this.setState({\n      mintClicked: true\n    });\n  }\n\n  async lazyMint(e) {\n    // code for getting and setting all the required values\n    // send data to ipfs and set hash\n    if (!this.state.userName.length > 0) {\n      alert(\"Please Enter Name! Under Shipping Details!😕\");\n      return;\n    }\n\n    if (!this.state.userEmail.length > 0) {\n      alert(\"Please Enter Email! Under Shipping Details!😕\");\n      return;\n    }\n\n    if (!this.state.userShippingAddress.length > 0) {\n      alert(\"Please Enter Shipping Address! Under Shipping Details!😕\");\n      return;\n    }\n\n    if (!this.state.ageCheck) {\n      alert(\"Verify your Age\");\n      return;\n    }\n\n    e.preventDefault(); // var data = {\n    //     \"userName\" : this.state.userName,\n    //     \"userEmail\" : this.state.userEmail,\n    //     \"userShippingAddress\" : this.state.userShippingAddress,\n    //     // \"itemData\" : this.itemData\n    //   }\n\n    var data = {\n      \"description\": \"Red. This is Spain 2019s most planted and highly-prized red variety. Wines range in style from rose to red, but Tempranillo is perhaps most known by its two champion regions of Rioja and Ribera del Duero.\",\n      \"external_url\": \"https://openseacreatures.io/3\",\n      \"image\": \"https://ipfs.io/ipfs/QmR3iLtd2o1KyZ63XJ4kCGJCqMCAFgF9EJqo67CxpXQRfn\",\n      \"name\": \"Trebbiano Toscano\",\n      \"attributes\": [{\n        \"trait_type\": \"Producer\",\n        \"value\": \"Pengwine\"\n      }, {\n        \"trait_type\": \"Variety\",\n        \"value\": \"White Wine\"\n      }, {\n        \"trait_type\": \"Region\",\n        \"value\": \"Central Valley Chile\"\n      }, {\n        \"trait_type\": \"Alchohol\",\n        \"value\": \"13.5%\"\n      }, {\n        \"trait_type\": \"Volume\",\n        \"value\": \"750ml\"\n      }, {\n        \"display_type\": \"number\",\n        \"trait_type\": \"Wine Count\",\n        \"value\": 6\n      }]\n    };\n    console.log(data);\n    const itemData = await JSON.stringify(data);\n    const itemBuffer = await Buffer.from(itemData);\n    console.log(itemBuffer);\n    const fid = await ipfs.add(itemBuffer);\n    console.log(fid.path); // code for smart contract\n    // var usdtABI = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"userAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address payable\",\"name\":\"relayerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"functionSignature\",\"type\":\"bytes\"}],\"name\":\"MetaTransactionExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"previousAdminRole\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"newAdminRole\",\"type\":\"bytes32\"}],\"name\":\"RoleAdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleGranted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleRevoked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CHILD_CHAIN_ID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"CHILD_CHAIN_ID_BYTES\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEFAULT_ADMIN_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEPOSITOR_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ERC712_VERSION\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ROOT_CHAIN_ID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ROOT_CHAIN_ID_BYTES\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"name_\",\"type\":\"string\"}],\"name\":\"changeName\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"depositData\",\"type\":\"bytes\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"userAddress\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"functionSignature\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"sigR\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"sigS\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"sigV\",\"type\":\"uint8\"}],\"name\":\"executeMetaTransaction\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getChainId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getDomainSeperator\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getNonce\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleAdmin\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getRoleMember\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleMemberCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"grantRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"hasRole\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"name_\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"symbol_\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"decimals_\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"childChainManager\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"renounceRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"revokeRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]\n    // var tokenAddress = \"0x7FFB3d637014488b63fb9858E279385685AFc1e2\"\n    // address and abi for polygon mumbai testnet for usdt\n    // var usdtABI = \n    // var tokenInst = await new this.props.web3.eth.Contract(usdtABI,tokenAddress);\n    // console.log(tokenInst)\n    // const balance = tokenInst.methods.balanceOf(this.props.accounts[0]).call({from: '0x19cFF0b9E7a05f0b7dcdE3783A31dc3509E703E5'})\n    //     .then(function(result){\n    //         console.log(result)\n    //     });\n    // const transfer = await tokenInst.methods.transfer(\"0x05Cb7d63483B513887D3fC3fdE38930989312FD0\",1).send(({ from : this.props.accounts[0]}))\n    // .on('receipt', (receipt) => {\n    //     this.setState({ transactionHash : receipt[\"transactionHash\"] })\n    //     this.setState({ blockHash : receipt[\"blockHash\"] })\n    //     console.log(receipt)\n    //     console.log([this.state.transactionHash, this.state.blockHash])\n    // }).on('error', (receipt) => {\n    //     if(receipt[\"code\"] == 4001){\n    //     alert(\"User denied transaction\")\n    //     return;\n    //     }\n    // });\n    // const symbol = tokenInst.methods.symbol().call({from: '0x19cFF0b9E7a05f0b7dcdE3783A31dc3509E703E5'})\n    // .then(function(result){\n    //     console.log(result)\n    // });\n    // var result = tokenInst.methods.balanceOf(this.props.accounts[0]).call()\n    // const format = this.props.web3.utils.fromWei(result);\n    // console.log(format)\n    // return\n\n    var transactionPrice = this.props.web3.utils.toWei(\"0.1\", 'ether'); // // getting all the data\n\n    const networkId = await this.props.web3.eth.net.getId();\n    const networkData = Wine.networks[networkId];\n    const contractData = await new this.props.web3.eth.Contract(Wine.abi, networkData.address);\n    console.log(contractData);\n    console.log([transactionPrice, networkId]); // calling the mint function\n    // const addItem = await contractData.methods.mint(\"firstipfsfromui\").send({ from : this.props.accounts[0] }).on('transactionHash', (hash) => {\n    //       alert(hash);\n    //   })\n\n    const addItem = await contractData.methods.mint(fid.path).send({\n      from: this.props.accounts[0],\n      value: transactionPrice\n    }).on('receipt', receipt => {\n      this.setState({\n        transactionHash: receipt[\"transactionHash\"]\n      });\n      this.setState({\n        blockHash: receipt[\"blockHash\"]\n      });\n      console.log(receipt);\n      console.log([this.state.transactionHash, this.state.blockHash]);\n    }).on('error', receipt => {\n      if (receipt[\"code\"] == 4001) {\n        alert(\"User denied transaction!! Please check\");\n        return;\n      }\n    }); // ------------------\n    //     // sending email\n\n    init(\"user_ca1Ts0fdL8YuvJE1cUgtk\");\n    var templateParams = {\n      \"userName\": this.state.userName,\n      \"userEmail\": this.state.userEmail,\n      \"userShippingAddress\": this.state.userShippingAddress,\n      \"transactionHash\": this.state.transactionHash,\n      \"blockHash\": this.state.blockHash\n    };\n    emailjs.send('service_fonu0fq', 'template_uegm5or', templateParams).then(function (response) {\n      alert('CONGRATULATIONS FOR YOUR DIGITAL WINE!');\n    }, function (error) {\n      console.log('FAILED...', error);\n    }); //     console.log(\"user initiated\")\n    //     this.setState({ redirect : true })\n  }\n\n  addWineNumber() {\n    console.log(\"button clicked\");\n\n    if (this.state.wineNumber < 6) {\n      this.state.wineNumber = this.state.wineNumber + 1;\n      this.setState({\n        wineNumber: this.state.wineNumber\n      });\n      return;\n    } else {\n      alert(\"You can only mint 6 wine's at a time.\");\n    }\n  }\n\n  subWineNumber() {\n    console.log(\"button clicked\");\n\n    if (this.state.wineNumber > 0) {\n      this.state.wineNumber = this.state.wineNumber - 1;\n      this.setState({\n        wineNumber: this.state.wineNumber\n      });\n    } else {\n      alert(\"Please add wine first\");\n      return;\n    }\n  }\n\n  handleNameChange(event) {\n    console.log(event.target.value);\n    this.setState({\n      userName: event.target.value\n    });\n  }\n\n  handleEmailChange(event) {\n    console.log(event.target.value);\n    this.setState({\n      userEmail: event.target.value\n    });\n  }\n\n  handleAddressChange(event) {\n    console.log(event.target.value);\n    this.setState({\n      userShippingAddress: event.target.value\n    });\n  }\n\n  handleCheckBox(event) {\n    let isChecked = event.target.checked;\n    this.setState({\n      ageCheck: isChecked\n    }); // do whatever you want with isChecked value\n  }\n\n  handleBack(event) {\n    this.setState({\n      mintClicked: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info\",\n      children: [!this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shoeName\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"big\",\n            children: \"Chardonnay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"new\",\n            children: \"FEATURED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"small\",\n          children: \"Dry Red Wine 750ml\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 42\n      }, this), !this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"description\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text\",\n          children: \"Red. This is Spain 2019s most planted and highly-prized red variety. Wines range in style from rose to red, but Tempranillo is perhaps most known by its two champion regions of Rioja and Ribera del Duero.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 45\n      }, this), !this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"color-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title-wine\",\n          children: \"300 Minted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: this.containerStyles(),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: this.fillerStyles,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: this.labelStyles,\n              children: `${50}%`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 44\n      }, this), !this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"size-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title\",\n          children: \"Wines to Mint\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sizes\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"size\",\n            onClick: this.addWineNumber,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"size active\",\n            children: this.state.wineNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"size\",\n            onClick: this.subWineNumber,\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 40\n      }, this), this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shoeName\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"small\",\n          children: \"Please Enter Shipping Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 37\n      }, this), this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign__group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.handleNameChange,\n          type: \"text\",\n          name: \"name\",\n          className: \"sign__input\",\n          placeholder: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 46\n      }, this), this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign__group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.handleEmailChange,\n          type: \"text\",\n          name: \"email\",\n          className: \"sign__input\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 45\n      }, this), this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign__group\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: this.handleAddressChange,\n          name: \"text\",\n          className: \"sign__textarea\",\n          placeholder: \"Shipping Address\",\n          defaultValue: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"filter__checkboxes\",\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.handleCheckBox,\n                id: \"type5\",\n                type: \"checkbox\",\n                name: \"type5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"type5\",\n                children: \"Yes I am 18+, Allow me to drink\\uD83C\\uDF77\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 47\n      }, this), !this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buy-price\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/#\",\n          className: \"buy\",\n          onClick: this.handleMintClick,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-shopping-cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 21\n          }, this), \"Click to Mint\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-dollar-sign\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [this.state.winePrice, \"ETH\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 40\n      }, this), this.state.mintClicked && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buy-price\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/#\",\n          className: \"buy\",\n          onClick: this.handleBack,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-shopping-cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 21\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/#\",\n          className: \"buy\",\n          onClick: this.lazyMint,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-shopping-cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 21\n          }, this), \"Mint\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default WineInfo;","map":{"version":3,"sources":["C:/Users/work/Desktop/Code/BoredPhase2/src/components/Info/info-new.jsx"],"names":["React","Wine","ipfs","init","emailjs","WineInfo","Component","constructor","props","handleMintClick","bind","lazyMint","handleAddressChange","handleEmailChange","handleNameChange","handleCheckBox","handleBack","containerStyles","addWineNumber","subWineNumber","state","mintClicked","wineNumber","userName","userEmail","userShippingAddress","redirect","transactionHash","blockHash","ageCheck","winePrice","fillerStyles","height","width","backgroundColor","borderRadius","textAlign","labelStyles","padding","color","fontWeight","alert","setState","e","length","preventDefault","data","console","log","itemData","JSON","stringify","itemBuffer","Buffer","from","fid","add","path","transactionPrice","web3","utils","toWei","networkId","eth","net","getId","networkData","networks","contractData","Contract","abi","address","addItem","methods","mint","send","accounts","value","on","receipt","templateParams","then","response","error","event","target","isChecked","checked","render"],"mappings":"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","sourcesContent":["\r\n// import { color } from 'd3-color';\r\nimport React from 'react';\r\nimport Wine from \"../../contracts/Wine.json\";\r\nimport ipfs from \"./ipfs\";\r\nimport{ init } from 'emailjs-com';\r\nimport emailjs from 'emailjs-com';\r\n\r\nclass WineInfo extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n     \r\n        this.handleMintClick = this.handleMintClick.bind(this)\r\n        this.lazyMint = this.lazyMint.bind(this)\r\n        this.handleAddressChange = this.handleAddressChange.bind(this)\r\n        this.handleEmailChange = this.handleEmailChange.bind(this)\r\n        this.handleNameChange = this.handleNameChange.bind(this)\r\n        this.handleCheckBox = this.handleCheckBox.bind(this)\r\n        this.handleBack = this.handleBack.bind(this)\r\n        this.containerStyles = this.containerStyles.bind(this)\r\n        this.addWineNumber = this.addWineNumber.bind(this)\r\n        this.subWineNumber = this.subWineNumber.bind(this)\r\n        this.state = {\r\n            mintClicked : false,\r\n            wineNumber : 0,\r\n            userName : \"\",\r\n            userEmail:\"\",\r\n            userShippingAddress : \"\",\r\n            redirect: false,\r\n            transactionHash:\"\",\r\n            blockHash:\"\",\r\n            ageCheck:\"\",\r\n            winePrice : \"0.2\",\r\n        }\r\n        // this.containerStyles = {\r\n        //     height: 20,\r\n        //     width: '100%',\r\n        //     // backgroundColor: \"#e0e0de\",\r\n        //     borderRadius: 40,\r\n        //     // margin: 50\r\n        //   },\r\n        this.fillerStyles = {\r\n            height: '100%',\r\n            width: `${50}%`,\r\n            backgroundColor: \"#000000\",\r\n            borderRadius: 'inherit',\r\n            textAlign: 'right'\r\n          }\r\n          this.labelStyles = {\r\n            padding: 4,\r\n            color: 'white',\r\n            fontWeight: 'bold'\r\n          }\r\n        \r\n\r\n    }\r\n\r\n    containerStyles(){\r\n        return ({\r\n            height: 20,\r\n            width: '100%',\r\n            // backgroundColor: \"#e0e0de\",\r\n            borderRadius: 40,\r\n            // margin: 50\r\n        })\r\n    }\r\n\r\n    \r\n\r\n    handleMintClick(){\r\n        \r\n    //    alert(true)\r\n    if(this.state.wineNumber < 2){\r\n        alert(\"You have to atleast Mint 2 Wine's \")\r\n        return\r\n    }\r\n    this.setState({ mintClicked : true})\r\n    }\r\n\r\n    async lazyMint(e){\r\n      \r\n        // code for getting and setting all the required values\r\n        // send data to ipfs and set hash\r\n  \r\n        \r\n        if(!this.state.userName.length>0){\r\n          alert(\"Please Enter Name! Under Shipping Details!😕\")\r\n          return\r\n        }\r\n        if(!this.state.userEmail.length>0){\r\n          alert(\"Please Enter Email! Under Shipping Details!😕\")\r\n          return\r\n        }\r\n        if(!this.state.userShippingAddress.length>0){\r\n          alert(\"Please Enter Shipping Address! Under Shipping Details!😕\")\r\n          return\r\n        }\r\n  \r\n        if(!this.state.ageCheck ){\r\n          alert(\"Verify your Age\");\r\n          return;\r\n        }\r\n        e.preventDefault();\r\n        // var data = {\r\n        //     \"userName\" : this.state.userName,\r\n        //     \"userEmail\" : this.state.userEmail,\r\n        //     \"userShippingAddress\" : this.state.userShippingAddress,\r\n        //     // \"itemData\" : this.itemData\r\n        //   }\r\n        var data = {\r\n          \"description\": \"Red. This is Spain 2019s most planted and highly-prized red variety. Wines range in style from rose to red, but Tempranillo is perhaps most known by its two champion regions of Rioja and Ribera del Duero.\", \r\n          \"external_url\": \"https://openseacreatures.io/3\", \r\n          \"image\": \"https://ipfs.io/ipfs/QmR3iLtd2o1KyZ63XJ4kCGJCqMCAFgF9EJqo67CxpXQRfn\", \r\n          \"name\": \"Trebbiano Toscano\",\r\n          \"attributes\": [\r\n            {\r\n              \"trait_type\": \"Producer\", \r\n              \"value\": \"Pengwine\"\r\n            }, \r\n            {\r\n              \"trait_type\": \"Variety\", \r\n              \"value\": \"White Wine\"\r\n            }, \r\n            {\r\n              \"trait_type\": \"Region\", \r\n              \"value\": \"Central Valley Chile\"\r\n            }, \r\n            {\r\n              \"trait_type\": \"Alchohol\", \r\n              \"value\": \"13.5%\"\r\n            }, \r\n            {\r\n              \"trait_type\": \"Volume\", \r\n              \"value\": \"750ml\"\r\n            }, \r\n           \r\n            {\r\n              \"display_type\": \"number\", \r\n              \"trait_type\": \"Wine Count\", \r\n              \"value\": 6\r\n            }\r\n          ], \r\n        }\r\n        \r\n        \r\n\r\n\r\n        console.log(data);\r\n         const itemData = await JSON.stringify(data)\r\n        const itemBuffer = await Buffer.from(itemData);\r\n        console.log(itemBuffer);\r\n        const fid = await ipfs.add(itemBuffer);\r\n       console.log(fid.path)\r\n  \r\n        // code for smart contract\r\n        // var usdtABI = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"userAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address payable\",\"name\":\"relayerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"functionSignature\",\"type\":\"bytes\"}],\"name\":\"MetaTransactionExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"previousAdminRole\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"newAdminRole\",\"type\":\"bytes32\"}],\"name\":\"RoleAdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleGranted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleRevoked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CHILD_CHAIN_ID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"CHILD_CHAIN_ID_BYTES\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEFAULT_ADMIN_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEPOSITOR_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ERC712_VERSION\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ROOT_CHAIN_ID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ROOT_CHAIN_ID_BYTES\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"name_\",\"type\":\"string\"}],\"name\":\"changeName\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"depositData\",\"type\":\"bytes\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"userAddress\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"functionSignature\",\"type\":\"bytes\"},{\"internalType\":\"bytes32\",\"name\":\"sigR\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"sigS\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"sigV\",\"type\":\"uint8\"}],\"name\":\"executeMetaTransaction\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getChainId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getDomainSeperator\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getNonce\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleAdmin\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getRoleMember\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleMemberCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"grantRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"hasRole\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"name_\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"symbol_\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"decimals_\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"childChainManager\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"renounceRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"revokeRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]\r\n        // var tokenAddress = \"0x7FFB3d637014488b63fb9858E279385685AFc1e2\"\r\n        // address and abi for polygon mumbai testnet for usdt\r\n\r\n        // var usdtABI = \r\n        // var tokenInst = await new this.props.web3.eth.Contract(usdtABI,tokenAddress);\r\n        // console.log(tokenInst)\r\n        // const balance = tokenInst.methods.balanceOf(this.props.accounts[0]).call({from: '0x19cFF0b9E7a05f0b7dcdE3783A31dc3509E703E5'})\r\n        //     .then(function(result){\r\n        //         console.log(result)\r\n        //     });\r\n        // const transfer = await tokenInst.methods.transfer(\"0x05Cb7d63483B513887D3fC3fdE38930989312FD0\",1).send(({ from : this.props.accounts[0]}))\r\n        // .on('receipt', (receipt) => {\r\n        //     this.setState({ transactionHash : receipt[\"transactionHash\"] })\r\n        //     this.setState({ blockHash : receipt[\"blockHash\"] })\r\n        //     console.log(receipt)\r\n        //     console.log([this.state.transactionHash, this.state.blockHash])\r\n        // }).on('error', (receipt) => {\r\n        //     if(receipt[\"code\"] == 4001){\r\n        //     alert(\"User denied transaction\")\r\n        //     return;\r\n        //     }\r\n        // });\r\n        // const symbol = tokenInst.methods.symbol().call({from: '0x19cFF0b9E7a05f0b7dcdE3783A31dc3509E703E5'})\r\n        // .then(function(result){\r\n        //     console.log(result)\r\n        // });\r\n\r\n        // var result = tokenInst.methods.balanceOf(this.props.accounts[0]).call()\r\n        // const format = this.props.web3.utils.fromWei(result);\r\n        // console.log(format)\r\n        // return\r\n        var transactionPrice = this.props.web3.utils.toWei(\"0.1\", 'ether');\r\n        // // getting all the data\r\n        const networkId = await this.props.web3.eth.net.getId();\r\n        const networkData = Wine.networks[networkId];\r\n        const contractData = await new this.props.web3.eth.Contract(Wine.abi, networkData.address )\r\n        \r\n        console.log(contractData)\r\n        console.log([transactionPrice, networkId]);\r\n        // calling the mint function\r\n  \r\n        // const addItem = await contractData.methods.mint(\"firstipfsfromui\").send({ from : this.props.accounts[0] }).on('transactionHash', (hash) => {\r\n        //       alert(hash);\r\n        //   })\r\n  \r\n        const addItem = await contractData.methods.mint(fid.path).send(({ from : this.props.accounts[0], value : transactionPrice}))\r\n        .on('receipt', (receipt) => {\r\n          this.setState({ transactionHash : receipt[\"transactionHash\"] })\r\n          this.setState({ blockHash : receipt[\"blockHash\"] })\r\n          console.log(receipt)\r\n          console.log([this.state.transactionHash, this.state.blockHash])\r\n        }).on('error', (receipt) => {\r\n          if(receipt[\"code\"] == 4001){\r\n            alert(\"User denied transaction!! Please check\")\r\n            return;\r\n          }\r\n        });\r\n  \r\n        // ------------------\r\n    //     // sending email\r\n        init(\"user_ca1Ts0fdL8YuvJE1cUgtk\");\r\n      var templateParams = {\r\n          \"userName\" : this.state.userName,\r\n          \"userEmail\" : this.state.userEmail,\r\n          \"userShippingAddress\" : this.state.userShippingAddress,\r\n          \"transactionHash\" : this.state.transactionHash,\r\n          \"blockHash\" : this.state.blockHash\r\n      }\r\n     emailjs.send('service_fonu0fq', 'template_uegm5or', templateParams)\r\n              .then(function(response) {\r\n                alert('CONGRATULATIONS FOR YOUR DIGITAL WINE!');\r\n          }, function(error) {\r\n             console.log('FAILED...', error);\r\n          });\r\n      \r\n    //     console.log(\"user initiated\")\r\n  \r\n    //     this.setState({ redirect : true })\r\n  \r\n     \r\n      }\r\n\r\n\r\n\r\n\r\n    addWineNumber(){\r\n        console.log(\"button clicked\")\r\n        if(this.state.wineNumber < 6){\r\n            this.state.wineNumber  = this.state.wineNumber + 1\r\n            this.setState({ wineNumber : this.state.wineNumber})\r\n            return\r\n        }\r\n        else{\r\n            alert(\"You can only mint 6 wine's at a time.\")\r\n        }\r\n        \r\n    }\r\n\r\n    subWineNumber(){\r\n        console.log(\"button clicked\")\r\n        if(this.state.wineNumber > 0){\r\n            this.state.wineNumber  = this.state.wineNumber - 1\r\n            this.setState({ wineNumber : this.state.wineNumber})\r\n        }\r\n        else{\r\n            alert(\"Please add wine first\")\r\n        return\r\n        }\r\n     \r\n    }\r\n\r\n    handleNameChange(event) {\r\n        console.log(event.target.value)\r\n        this.setState({ userName: event.target.value});  \r\n      }\r\n  \r\n      handleEmailChange(event) {\r\n        console.log(event.target.value)\r\n        this.setState({ userEmail: event.target.value});  \r\n      }\r\n      \r\n      handleAddressChange(event) {\r\n        console.log(event.target.value)\r\n        this.setState({ userShippingAddress: event.target.value});  \r\n      }\r\n\r\n      handleCheckBox(event) {\r\n        let isChecked = event.target.checked;\r\n        this.setState({ ageCheck : isChecked});\r\n        // do whatever you want with isChecked value\r\n      }\r\n\r\n      handleBack(event){\r\n        this.setState({ mintClicked : false})\r\n      }\r\n  \r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div className=\"info\">\r\n            \r\n            \r\n\r\n            {!this.state.mintClicked  && <div className=\"shoeName\">\r\n            \r\n                    <div>\r\n                    <h1 className=\"big\">Chardonnay</h1>\r\n                    <span className=\"new\">FEATURED</span>\r\n                    </div>\r\n                    <h4 className=\"small\">Dry Red Wine 750ml</h4>\r\n                </div>}\r\n\r\n                {!this.state.mintClicked && <div className=\"description\">\r\n                    <h3 className=\"title\">Description</h3>\r\n                    <p className=\"text\">\r\n                    Red. This is Spain 2019s most planted and highly-prized red variety. Wines range in style from rose to red, but Tempranillo is perhaps most known by its two champion regions of Rioja and Ribera del Duero.\r\n                    </p>\r\n                </div>\r\n            }\r\n            {\r\n                !this.state.mintClicked && <div className=\"color-container\">\r\n                    <h3 className=\"title-wine\">300 Minted</h3>\r\n                    <div style={this.containerStyles()}>\r\n                    <div style={this.fillerStyles}>\r\n                    <span style={this.labelStyles}>{`${50}%`}</span>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n              \r\n            }\r\n            {\r\n            !this.state.mintClicked && <div className=\"size-container\">\r\n            <h3 className=\"title\">Wines to Mint</h3>\r\n            <div className=\"sizes\">\r\n                <span className=\"size\" onClick={this.addWineNumber}>+</span>\r\n                <span className=\"size active\">{this.state.wineNumber}</span>\r\n                <span className=\"size\" onClick={this.subWineNumber}>-</span>\r\n                {/* <span className=\"size\">10</span>\r\n                <span className=\"size\">11</span> */}\r\n            </div>\r\n            </div>\r\n            }\r\n          \r\n\r\n        {this.state.mintClicked  && <div className=\"shoeName\">\r\n                    \r\n            <div>\r\n            {/* <h1 className=\"big\">Please Enter Shipping Details</h1> */}\r\n            {/* <span className=\"new\">FEATURED</span> */}\r\n            </div>\r\n            <h4 className=\"small\">Please Enter Shipping Details</h4>\r\n            </div>\r\n                }\r\n        {/* {\r\n            this.state.mintClicked && \r\n        }\r\n         */}\r\n               {\r\n                   this.state.mintClicked && <div className=\"sign__group\">\r\n                   <input onChange={this.handleNameChange} type=\"text\" name=\"name\" className=\"sign__input\" placeholder=\"Name\" />\r\n                 </div>\r\n               }\r\n              {\r\n                  this.state.mintClicked && <div className=\"sign__group\">\r\n                  <input onChange={this.handleEmailChange} type=\"text\" name=\"email\" className=\"sign__input\" placeholder=\"Email\" />\r\n                </div>\r\n              }\r\n               {\r\n                   this.state.mintClicked &&  <div className=\"sign__group\">\r\n                   <textarea onChange={this.handleAddressChange}\r\n                     name=\"text\"\r\n                     className=\"sign__textarea\"\r\n                     placeholder=\"Shipping Address\"\r\n                     defaultValue={\"\"}\r\n                   />\r\n                 <div>\r\n                 <ul className=\"filter__checkboxes\">\r\n                 <li>\r\n                   <input onChange = {this.handleCheckBox} id=\"type5\" type=\"checkbox\" name=\"type5\" />\r\n                   <label htmlFor=\"type5\">Yes I am 18+, Allow me to drink🍷</label>\r\n                 </li>\r\n                 </ul>\r\n                 </div>\r\n              \r\n \r\n               </div>\r\n               }\r\n\r\n{\r\n            !this.state.mintClicked && <div className=\"buy-price\">\r\n                <a href=\"/#\" className=\"buy\" onClick={this.handleMintClick}>\r\n                    <i className=\"fas fa-shopping-cart\"></i>Click to Mint\r\n                </a>\r\n                <div className=\"price\">\r\n                    <i className=\"fas fa-dollar-sign\"></i>\r\n                    <h1>{this.state.winePrice}ETH</h1>\r\n                </div>\r\n                </div>\r\n            }\r\n\r\n{\r\n            this.state.mintClicked && <div className=\"buy-price\">\r\n                <a href=\"/#\" className=\"buy\" onClick={this.handleBack}>\r\n                    <i className=\"fas fa-shopping-cart\"></i>Back\r\n                </a>\r\n                <a href=\"/#\" className=\"buy\" onClick={this.lazyMint}>\r\n                    <i className=\"fas fa-shopping-cart\"></i>Mint\r\n                </a>\r\n                {/* <div className=\"price\">\r\n                    <i className=\"fas fa-dollar-sign\"></i>\r\n                    <h1>{this.state.winePrice}ETH</h1>\r\n                </div> */}\r\n                </div>\r\n            }\r\n\r\n\r\n               \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WineInfo;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}